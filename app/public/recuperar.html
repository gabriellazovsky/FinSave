<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Recuperar contraseña — FinSave</title>
    <link rel="stylesheet" href="recuperar.css" />
</head>
<body>
<main class="container" role="main" aria-labelledby="pageTitle">
    <h1 id="pageTitle">Recuperar contraseña</h1>

    <!-- Indicadores de paso -->
    <div class="step-indicators" aria-hidden="true">
        <div class="step-dot active"></div>
        <div class="step-dot"></div>
    </div>
    <div class="step-status">
        <div id="stepText">Paso 1 de 2</div>
    </div>

    <!-- Slider con 2 pasos -->
    <div class="viewport">
        <div class="step-wrapper" id="stepWrapper">
            <!-- STEP 1 -->
            <section class="step" id="step1">
                <div class="input-wrapper">
                    <input id="email" type="email" placeholder="Correo electrónico" autocomplete="email" />
                    <span class="icon">✉️</span>
                    <span class="status-icon valid">✔️</span>
                    <span class="status-icon invalid">❌</span>
                </div>

                <button class="btn" id="requestCode">Solicitar código</button>
                <p id="step1Msg" class="msg"></p>
                <button class="btn back-btn" id="backStep" style="display:none;">Volver</button>
            </section>

            <!-- STEP 2 -->
            <section class="step" id="step2">
                <div class="input-wrapper">
                    <input id="code" type="text" placeholder="Código de verificación" inputmode="numeric" />
                    <span class="icon">🔐</span>
                    <span class="status-icon valid">✔️</span>
                    <span class="status-icon invalid">❌</span>
                </div>

                <div class="input-wrapper">
                    <input id="newPassword" type="password" placeholder="Nueva contraseña" />
                    <span class="icon">🔒</span>
                    <span class="status-icon valid">✔️</span>
                    <span class="status-icon invalid">❌</span>
                </div>

                <button class="btn" id="confirmReset">Confirmar</button>
                <p id="step2Msg" class="msg"></p>

                <div style="display:flex;gap:.5rem;margin-top:1rem;">
                    <button class="btn back-btn" id="backStepBtnSmall" type="button">← Volver</button>
                    <button class="btn home-btn" id="goHome">Inicio</button>
                </div>
            </section>
        </div>
    </div>
</main>

<!-- Notificación simulada tipo Mail (misma página) -->
<aside id="mailNotification" class="mail-notification hidden" role="dialog" aria-live="polite">
    <div class="mail-header">📩 <strong>serverfalsodecorreo</strong></div>
    <div class="mail-body">
        <div class="mail-subject">Restablecer contraseña - FinSave</div>
        <div class="mail-content" id="mailContent">Tu código es: —</div>
        <div class="mail-footer"><small>Válido 15 minutos</small></div>
    </div>
    <button class="mail-close" id="closeMail">✕</button>
</aside>

<script src="recuperar.js"></script>
</body>
</html>
